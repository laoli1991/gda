<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>
        数据统计-查看
    </title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="./css/x-admin.css" media="all">
</head>

<body>
<div class="x-body" ng-app="daLook" ng-controller="daLookCtrl">
    <form class="layui-form layui-form-pane">

        <div class="layui-form-item">
            <label class="layui-form-label">
                姓名
            </label>
            <div class="layui-input-block">
                <input type="text" required lay-verify="title" value="{{teacher.name}}"
                       autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">
                姓别
            </label>
            <div class="layui-input-block">
                <input type="text" required lay-verify="title" value="{{teacher.sex}}"
                       autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">
                身份证
            </label>
            <div class="layui-input-block">
                <input type="text" required lay-verify="title" value="{{teacher.identityNO}}"
                       autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">
                编号
            </label>
            <div class="layui-input-block">
                <input type="text" required lay-verify="title" value="{{teacher.teacherNo}}"
                       autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">
                籍贯
            </label>
            <div class="layui-input-block">
                <input type="text" required lay-verify="title" value="{{teacher.birthPlace}}"
                       autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">
                学历
            </label>
            <div class="layui-input-block">
                <input type="text" required lay-verify="title" value="{{teacher.education}}"
                       autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">
                身份证照片
            </label>
            <div class="layui-input-block">
                <img ng-src="{{teacher.identityImgSrc}}" width="100%">
            </div>
        </div>

    </form>
</div>
<script src="./lib/layui/layui.js" charset="utf-8">
</script>
<script src="./js/x-layui.js" charset="utf-8">
</script>
<script src="js/angular.js" charset="utf-8"></script>
<script>
    layui.use(['laydate', 'element', 'laypage', 'layer'], function () {
        $ = layui.jquery;
        lement = layui.element();//面包导航
        laypage = layui.laypage;//分页
        layer = layui.layer;//弹出层

    });


    var app = angular.module('daLook', []);
    app.controller('daLookCtrl', ["$scope", '$http', '$q', function ($scope, $http, $q) {
        // var str = window.location.href;
        // console.log(str);
        var url = location.search; //获取url中"?"符后的字串
        console.log(url);
        var theRequest = new Object();
        if (url.indexOf("?") != -1) {
            var str = url.substr(1);
            strs = str.split("&");
            for (var i = 0; i < strs.length; i++) {
                theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
            }
        }
        console.log(theRequest);
        id = theRequest["id"];
        console.log(id);

        var deferred = $q.defer();
        $http.get("/api/query-teacher?id=" + id)
            .then(function (req) {
                $scope.teacher = req.data;
                console.log($scope.teacher);
                deferred.resolve(req);
            });


    }]);
</script>
</body>

</html>